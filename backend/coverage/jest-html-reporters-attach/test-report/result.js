window.jest_html_reporters_callback__({"numFailedTestSuites":4,"numFailedTests":2,"numPassedTestSuites":5,"numPassedTests":69,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":9,"numTotalTests":71,"startTime":1763060701642,"success":false,"testResults":[{"numFailingTests":0,"numPassingTests":2,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060705035,"loadTestEnvironmentEnd":1763060702962,"loadTestEnvironmentStart":1763060702274,"runtime":2070,"setupAfterEnvEnd":1763060704879,"setupAfterEnvStart":1763060704256,"setupFilesEnd":1763060702965,"setupFilesStart":1763060702965,"slow":false,"start":1763060702965},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\clientModule.test.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Client Module - minimal sanity"],"duration":13,"failureMessages":[],"fullName":"Client Module - minimal sanity basic sanity: true is truthy","status":"passed","title":"basic sanity: true is truthy"},{"ancestorTitles":["Client Module - minimal sanity"],"duration":3,"failureMessages":[],"fullName":"Client Module - minimal sanity simple object shape","status":"passed","title":"simple object shape"}]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"loadTestEnvironmentEnd":0,"loadTestEnvironmentStart":0,"runtime":0,"setupAfterEnvEnd":0,"setupAfterEnvStart":0,"setupFilesEnd":0,"setupFilesStart":0,"slow":false,"start":0},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\numeric-template-names.test.ts","failureMessage":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Cannot find module 'supertest' from 'tests/numeric-template-names.test.ts'\n\n    \u001b[0m \u001b[90m 1 |\u001b[39m \u001b[36mimport\u001b[39m { describe\u001b[33m,\u001b[39m it\u001b[33m,\u001b[39m expect\u001b[33m,\u001b[39m beforeAll\u001b[33m,\u001b[39m afterAll\u001b[33m,\u001b[39m beforeEach } \u001b[36mfrom\u001b[39m \u001b[32m'@jest/globals'\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 2 |\u001b[39m \u001b[36mimport\u001b[39m request \u001b[36mfrom\u001b[39m \u001b[32m'supertest'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 3 |\u001b[39m \u001b[36mimport\u001b[39m { prisma } \u001b[36mfrom\u001b[39m \u001b[32m'../src/lib/prisma'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 4 |\u001b[39m \u001b[36mimport\u001b[39m dotenv \u001b[36mfrom\u001b[39m \u001b[32m'dotenv'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 5 |\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/index.js\u001b[2m:863:11)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[0m\u001b[36mtests/numeric-template-names.test.ts\u001b[39m\u001b[0m\u001b[2m:2:1)\u001b[22m\n","testResults":[]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"loadTestEnvironmentEnd":0,"loadTestEnvironmentStart":0,"runtime":0,"setupAfterEnvEnd":0,"setupAfterEnvStart":0,"setupFilesEnd":0,"setupFilesStart":0,"slow":false,"start":0},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\editorTemplate.test.ts","failureMessage":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    Cannot find module 'supertest' from 'tests/editorTemplate.test.ts'\n\n    \u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 1 |\u001b[39m \u001b[36mimport\u001b[39m request \u001b[36mfrom\u001b[39m \u001b[32m'supertest'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 2 |\u001b[39m \u001b[36mimport\u001b[39m { describe\u001b[33m,\u001b[39m it\u001b[33m,\u001b[39m expect\u001b[33m,\u001b[39m beforeEach\u001b[33m,\u001b[39m afterEach } \u001b[36mfrom\u001b[39m \u001b[32m'@jest/globals'\u001b[39m\u001b[33m;\u001b[39m\n     \u001b[90m 3 |\u001b[39m\n     \u001b[90m 4 |\u001b[39m \u001b[90m// Mock app - você precisa exportar o app do seu server.ts\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/index.js\u001b[2m:863:11)\u001b[22m\n      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[0m\u001b[36mtests/editorTemplate.test.ts\u001b[39m\u001b[0m\u001b[2m:1:1)\u001b[22m\n","testResults":[]},{"numFailingTests":0,"numPassingTests":10,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060706146,"loadTestEnvironmentEnd":1763060702956,"loadTestEnvironmentStart":1763060702198,"runtime":3186,"setupAfterEnvEnd":1763060705016,"setupAfterEnvStart":1763060704251,"setupFilesEnd":1763060702960,"setupFilesStart":1763060702960,"slow":false,"start":1763060702960},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\numeric-template-names-unit.test.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Frontend Response Parsing - Templates.tsx loadTemplates()"],"duration":51,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Frontend Response Parsing - Templates.tsx loadTemplates() should correctly parse the actual backend response structure","status":"passed","title":"should correctly parse the actual backend response structure"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Frontend Response Parsing - Templates.tsx loadTemplates()"],"duration":2,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Frontend Response Parsing - Templates.tsx loadTemplates() should NOT match incorrect parsing patterns","status":"passed","title":"should NOT match incorrect parsing patterns"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Frontend Response Parsing - Templates.tsx loadTemplates()"],"duration":204,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Frontend Response Parsing - Templates.tsx loadTemplates() should handle various numeric template names","status":"passed","title":"should handle various numeric template names"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Frontend Response Parsing - Templates.tsx loadTemplates()"],"duration":2,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Frontend Response Parsing - Templates.tsx loadTemplates() should correctly transform numeric-named templates for display","status":"passed","title":"should correctly transform numeric-named templates for display"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Backend Response Structure - EditorTemplateController.getTemplates()"],"duration":3,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Backend Response Structure - EditorTemplateController.getTemplates() should validate correct response structure from backend","status":"passed","title":"should validate correct response structure from backend"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Backend Response Structure - EditorTemplateController.getTemplates()"],"duration":2,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Backend Response Structure - EditorTemplateController.getTemplates() should include required template fields","status":"passed","title":"should include required template fields"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Bug Fix Verification - Before and After"],"duration":5,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Bug Fix Verification - Before and After should show the bug in the OLD parsing logic","status":"passed","title":"should show the bug in the OLD parsing logic"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Bug Fix Verification - Before and After"],"duration":26,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Bug Fix Verification - Before and After should show the fix in the NEW parsing logic","status":"passed","title":"should show the fix in the NEW parsing logic"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Pagination and Sorting"],"duration":2,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Pagination and Sorting should correctly parse pagination info","status":"passed","title":"should correctly parse pagination info"},{"ancestorTitles":["Numeric Template Names - Bug Fix Validation","Search and Filter"],"duration":1,"failureMessages":[],"fullName":"Numeric Template Names - Bug Fix Validation Search and Filter should be able to search for numeric-named templates","status":"passed","title":"should be able to search for numeric-named templates"}]},{"numFailingTests":0,"numPassingTests":16,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060707649,"loadTestEnvironmentEnd":1763060702976,"loadTestEnvironmentStart":1763060702267,"runtime":4671,"setupAfterEnvEnd":1763060704953,"setupAfterEnvStart":1763060704418,"setupFilesEnd":1763060702978,"setupFilesStart":1763060702978,"slow":false,"start":1763060702978},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\templateEditorIntegration.test.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Template Editor - Testes de Integração","Fluxo Completo: Criar → Salvar → Preview"],"duration":215,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Fluxo Completo: Criar → Salvar → Preview deve executar fluxo completo com sucesso","status":"passed","title":"deve executar fluxo completo com sucesso"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Elementos do Editor"],"duration":4,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Elementos do Editor deve incluir todos os tipos de elementos suportados","status":"passed","title":"deve incluir todos os tipos de elementos suportados"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Elementos do Editor"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Elementos do Editor deve incluir controles de formatação","status":"passed","title":"deve incluir controles de formatação"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Elementos do Editor"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Elementos do Editor deve incluir controles de imagem específicos","status":"passed","title":"deve incluir controles de imagem específicos"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Elementos do Editor"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Elementos do Editor deve incluir controles de margem da página","status":"passed","title":"deve incluir controles de margem da página"},{"ancestorTitles":["Template Editor - Testes de Integração","Conversão de Layout para HTML"],"duration":3,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Conversão de Layout para HTML deve converter template com todos os tipos de elementos","status":"passed","title":"deve converter template com todos os tipos de elementos"},{"ancestorTitles":["Template Editor - Testes de Integração","Conversão de Layout para HTML"],"duration":3,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Conversão de Layout para HTML deve aplicar estilos CSS corretamente","status":"passed","title":"deve aplicar estilos CSS corretamente"},{"ancestorTitles":["Template Editor - Testes de Integração","Galeria de Imagens"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Galeria de Imagens deve carregar galeria com imagens padrão","status":"passed","title":"deve carregar galeria com imagens padrão"},{"ancestorTitles":["Template Editor - Testes de Integração","Galeria de Imagens"],"duration":4,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Galeria de Imagens deve criar índice automaticamente se não existir","status":"passed","title":"deve criar índice automaticamente se não existir"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Entrada"],"duration":14,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Entrada deve validar template sem elementos","status":"passed","title":"deve validar template sem elementos"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Entrada"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Entrada deve validar template sem nome","status":"passed","title":"deve validar template sem nome"},{"ancestorTitles":["Template Editor - Testes de Integração","Validação de Entrada"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Validação de Entrada deve sanitizar nomes de arquivo perigosos","status":"passed","title":"deve sanitizar nomes de arquivo perigosos"},{"ancestorTitles":["Template Editor - Testes de Integração","Tratamento de Erros"],"duration":3,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Tratamento de Erros deve tratar erro de sistema de arquivos graciosamente","status":"passed","title":"deve tratar erro de sistema de arquivos graciosamente"},{"ancestorTitles":["Template Editor - Testes de Integração","Tratamento de Erros"],"duration":2,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Tratamento de Erros deve tratar erro de permissão de diretório","status":"passed","title":"deve tratar erro de permissão de diretório"},{"ancestorTitles":["Template Editor - Testes de Integração","Performance e Otimização"],"duration":4,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Performance e Otimização deve processar template grande sem problemas","status":"passed","title":"deve processar template grande sem problemas"},{"ancestorTitles":["Template Editor - Testes de Integração","Performance e Otimização"],"duration":1,"failureMessages":[],"fullName":"Template Editor - Testes de Integração Performance e Otimização deve lidar com conteúdo HTML complexo","status":"passed","title":"deve lidar com conteúdo HTML complexo"}]},{"numFailingTests":0,"numPassingTests":23,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060707737,"loadTestEnvironmentEnd":1763060702977,"loadTestEnvironmentStart":1763060702245,"runtime":4756,"setupAfterEnvEnd":1763060704902,"setupAfterEnvStart":1763060704386,"setupFilesEnd":1763060702981,"setupFilesStart":1763060702981,"slow":false,"start":1763060702981},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\templateEditor.test.ts","failureMessage":null,"testResults":[{"ancestorTitles":["TemplateEditorController","getEditor"],"duration":37,"failureMessages":[],"fullName":"TemplateEditorController getEditor deve retornar a interface HTML do editor","status":"passed","title":"deve retornar a interface HTML do editor"},{"ancestorTitles":["TemplateEditorController","getEditor"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController getEditor deve incluir todos os elementos na paleta","status":"passed","title":"deve incluir todos os elementos na paleta"},{"ancestorTitles":["TemplateEditorController","getEditor"],"duration":1,"failureMessages":[],"fullName":"TemplateEditorController getEditor deve incluir controles de propriedades","status":"passed","title":"deve incluir controles de propriedades"},{"ancestorTitles":["TemplateEditorController","getEditor"],"duration":1,"failureMessages":[],"fullName":"TemplateEditorController getEditor deve incluir scripts JavaScript necessários","status":"passed","title":"deve incluir scripts JavaScript necessários"},{"ancestorTitles":["TemplateEditorController","getEditor"],"duration":1,"failureMessages":[],"fullName":"TemplateEditorController getEditor deve tratar erros adequadamente","status":"passed","title":"deve tratar erros adequadamente"},{"ancestorTitles":["TemplateEditorController","previewTemplate"],"duration":152,"failureMessages":[],"fullName":"TemplateEditorController previewTemplate deve gerar preview (PDF ou HTML fallback)","status":"passed","title":"deve gerar preview (PDF ou HTML fallback)"},{"ancestorTitles":["TemplateEditorController","previewTemplate"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController previewTemplate deve validar se o layout do template é obrigatório","status":"passed","title":"deve validar se o layout do template é obrigatório"},{"ancestorTitles":["TemplateEditorController","previewTemplate"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController previewTemplate deve validar se os elementos são obrigatórios","status":"passed","title":"deve validar se os elementos são obrigatórios"},{"ancestorTitles":["TemplateEditorController","previewTemplate"],"duration":16,"failureMessages":[],"fullName":"TemplateEditorController previewTemplate deve retornar HTML fallback quando PDF falha","status":"passed","title":"deve retornar HTML fallback quando PDF falha"},{"ancestorTitles":["TemplateEditorController","previewTemplate"],"duration":4,"failureMessages":[],"fullName":"TemplateEditorController previewTemplate deve tratar erros gerais adequadamente","status":"passed","title":"deve tratar erros gerais adequadamente"},{"ancestorTitles":["TemplateEditorController","saveTemplate"],"duration":10,"failureMessages":[],"fullName":"TemplateEditorController saveTemplate deve salvar template com sucesso","status":"passed","title":"deve salvar template com sucesso"},{"ancestorTitles":["TemplateEditorController","saveTemplate"],"duration":12,"failureMessages":[],"fullName":"TemplateEditorController saveTemplate deve validar se o nome do template é obrigatório","status":"passed","title":"deve validar se o nome do template é obrigatório"},{"ancestorTitles":["TemplateEditorController","saveTemplate"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController saveTemplate deve criar diretório se não existir","status":"passed","title":"deve criar diretório se não existir"},{"ancestorTitles":["TemplateEditorController","saveTemplate"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController saveTemplate deve sanitizar nome do arquivo","status":"passed","title":"deve sanitizar nome do arquivo"},{"ancestorTitles":["TemplateEditorController","saveTemplate"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController saveTemplate deve tratar erros de escrita de arquivo","status":"passed","title":"deve tratar erros de escrita de arquivo"},{"ancestorTitles":["TemplateEditorController","getImageGallery"],"duration":4,"failureMessages":[],"fullName":"TemplateEditorController getImageGallery deve retornar galeria de imagens do índice","status":"passed","title":"deve retornar galeria de imagens do índice"},{"ancestorTitles":["TemplateEditorController","getImageGallery"],"duration":4,"failureMessages":[],"fullName":"TemplateEditorController getImageGallery deve criar índice básico se não existir","status":"passed","title":"deve criar índice básico se não existir"},{"ancestorTitles":["TemplateEditorController","getImageGallery"],"duration":3,"failureMessages":[],"fullName":"TemplateEditorController getImageGallery deve filtrar apenas arquivos de imagem","status":"passed","title":"deve filtrar apenas arquivos de imagem"},{"ancestorTitles":["TemplateEditorController","getImageGallery"],"duration":2,"failureMessages":[],"fullName":"TemplateEditorController getImageGallery deve tratar erros de leitura de diretório","status":"passed","title":"deve tratar erros de leitura de diretório"},{"ancestorTitles":["TemplateEditorController","convertLayoutToHTML"],"duration":3,"failureMessages":[],"fullName":"TemplateEditorController convertLayoutToHTML deve converter layout para HTML válido","status":"passed","title":"deve converter layout para HTML válido"},{"ancestorTitles":["TemplateEditorController","convertLayoutToHTML"],"duration":1,"failureMessages":[],"fullName":"TemplateEditorController convertLayoutToHTML deve aplicar estilos globais corretamente","status":"passed","title":"deve aplicar estilos globais corretamente"},{"ancestorTitles":["TemplateEditorController","convertLayoutToHTML"],"duration":3,"failureMessages":[],"fullName":"TemplateEditorController convertLayoutToHTML deve converter diferentes tipos de elementos","status":"passed","title":"deve converter diferentes tipos de elementos"},{"ancestorTitles":["TemplateEditorController","convertLayoutToHTML"],"duration":3,"failureMessages":[],"fullName":"TemplateEditorController convertLayoutToHTML deve converter estilos CSS corretamente","status":"passed","title":"deve converter estilos CSS corretamente"}]},{"numFailingTests":1,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060708527,"loadTestEnvironmentEnd":1763060703027,"loadTestEnvironmentStart":1763060702293,"runtime":5498,"setupAfterEnvEnd":1763060704981,"setupAfterEnvStart":1763060704368,"setupFilesEnd":1763060703029,"setupFilesStart":1763060703029,"slow":true,"start":1763060703029},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\clientCnpjUnique.test.ts","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClient CNPJ uniqueness › should prevent creating two clients with same CNPJ\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m400\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 58 |\u001b[39m     \u001b[36mconst\u001b[39m r2 \u001b[33m=\u001b[39m res2\u001b[33m.\u001b[39m_get()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 59 |\u001b[39m     \u001b[90m// Expect a 400 with error about CNPJ\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 60 |\u001b[39m     expect(r2\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m     expect(r2\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 62 |\u001b[39m     expect(\u001b[33mString\u001b[39m(r2\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merror)\u001b[33m.\u001b[39mtoLowerCase())\u001b[33m.\u001b[39mtoContain(\u001b[32m'cnpj'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/clientCnpjUnique.test.ts\u001b[39m\u001b[0m\u001b[2m:60:27)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["Client CNPJ uniqueness"],"duration":601,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m400\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.<anonymous> (C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\clientCnpjUnique.test.ts:60:27)"],"fullName":"Client CNPJ uniqueness should prevent creating two clients with same CNPJ","status":"failed","title":"should prevent creating two clients with same CNPJ"}]},{"numFailingTests":1,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060708642,"loadTestEnvironmentEnd":1763060702782,"loadTestEnvironmentStart":1763060702144,"runtime":5859,"setupAfterEnvEnd":1763060705263,"setupAfterEnvStart":1763060704367,"setupFilesEnd":1763060702783,"setupFilesStart":1763060702783,"slow":true,"start":1763060702783},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\clientController.test.ts","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mClientController integration › creates and updates a client including address fields\u001b[39m\u001b[22m\n\n    TypeError: Cannot read properties of undefined (reading 'client')\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 54 |\u001b[39m     \u001b[36mconst\u001b[39m resCreate \u001b[33m=\u001b[39m makeRes()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 55 |\u001b[39m     \u001b[36mawait\u001b[39m clientController\u001b[33m.\u001b[39mcreateClient(reqCreate\u001b[33m,\u001b[39m resCreate \u001b[36mas\u001b[39m any)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 56 |\u001b[39m     \u001b[36mconst\u001b[39m created \u001b[33m=\u001b[39m resCreate\u001b[33m.\u001b[39m_get()\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mdata\u001b[33m.\u001b[39mclient\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 57 |\u001b[39m     expect(created)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 58 |\u001b[39m     expect(created\u001b[33m.\u001b[39mcnpj)\u001b[33m.\u001b[39mtoBeTruthy()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 59 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/clientController.test.ts\u001b[39m\u001b[0m\u001b[2m:56:47)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["ClientController integration"],"duration":522,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'client')\n    at Object.<anonymous> (C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\clientController.test.ts:56:47)"],"fullName":"ClientController integration creates and updates a client including address fields","status":"failed","title":"creates and updates a client including address fields"}]},{"numFailingTests":0,"numPassingTests":18,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1763060709311,"loadTestEnvironmentEnd":1763060703025,"loadTestEnvironmentStart":1763060702183,"runtime":6283,"setupAfterEnvEnd":1763060704553,"setupAfterEnvStart":1763060704440,"setupFilesEnd":1763060703028,"setupFilesStart":1763060703028,"slow":true,"start":1763060703028},"testFilePath":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\tests\\reportGeneration.test.ts","failureMessage":null,"testResults":[{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":185,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve gerar PDF com sucesso usando configuração otimizada","status":"passed","title":"deve gerar PDF com sucesso usando configuração otimizada"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":7,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve usar novo modo headless","status":"passed","title":"deve usar novo modo headless"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":6,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve configurar timeouts adequados","status":"passed","title":"deve configurar timeouts adequados"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":8,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve aguardar renderização antes de gerar PDF","status":"passed","title":"deve aguardar renderização antes de gerar PDF"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":7,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve usar configurações de PDF otimizadas","status":"passed","title":"deve usar configurações de PDF otimizadas"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":43,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve fechar o browser mesmo em caso de erro","status":"passed","title":"deve fechar o browser mesmo em caso de erro"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":9,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve tratar erro de launch do Puppeteer","status":"passed","title":"deve tratar erro de launch do Puppeteer"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":9,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve tratar erro na criação de página","status":"passed","title":"deve tratar erro na criação de página"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":10,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve tratar erro no setContent","status":"passed","title":"deve tratar erro no setContent"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":8,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve tratar erro na geração do PDF","status":"passed","title":"deve tratar erro na geração do PDF"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":6,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve tratar erro no fechamento do browser graciosamente","status":"passed","title":"deve tratar erro no fechamento do browser graciosamente"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":5,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve usar executablePath correto para Docker","status":"passed","title":"deve usar executablePath correto para Docker"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":7,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve incluir args específicos para Docker","status":"passed","title":"deve incluir args específicos para Docker"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":5,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve processar HTML complexo corretamente","status":"passed","title":"deve processar HTML complexo corretamente"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":6,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve processar HTML vazio sem erro","status":"passed","title":"deve processar HTML vazio sem erro"},{"ancestorTitles":["ReportGenerationService","generatePDFFromHTML"],"duration":6,"failureMessages":[],"fullName":"ReportGenerationService generatePDFFromHTML deve processar HTML com caracteres especiais","status":"passed","title":"deve processar HTML com caracteres especiais"},{"ancestorTitles":["ReportGenerationService","Configuração do Puppeteer"],"duration":5,"failureMessages":[],"fullName":"ReportGenerationService Configuração do Puppeteer deve usar configuração otimizada para ambiente Docker","status":"passed","title":"deve usar configuração otimizada para ambiente Docker"},{"ancestorTitles":["ReportGenerationService","Configuração do Puppeteer"],"duration":4,"failureMessages":[],"fullName":"ReportGenerationService Configuração do Puppeteer deve configurar página com timeouts apropriados","status":"passed","title":"deve configurar página com timeouts apropriados"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":true,"collectCoverageFrom":["src/**/*.ts","!src/**/*.d.ts","!src/server.ts","!src/types/**","!src/config/**","!src/middleware/logger.ts"],"coverageDirectory":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\coverage","coverageProvider":"babel","coverageReporters":["text","lcov","html","json"],"coverageThreshold":{"global":{"branches":70,"functions":70,"lines":70,"statements":70}},"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":11,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./coverage","filename":"test-report.html","expand":true}]],"rootDir":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend","runInBand":false,"runTestsByPath":false,"seed":87813808,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPatterns":{"patterns":[],"type":"TestPathPatterns"},"testSequencer":"C:\\Users\\Clegivaldo\\Desktop\\QT-Master\\backend\\node_modules\\@jest\\test-sequencer\\build\\index.js","testTimeout":30000,"updateSnapshot":"new","useStderr":false,"verbose":true,"waitForUnhandledRejections":false,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false,"coverageLinkPath":"lcov-report\\index.html"},"endTime":1763060709472,"_reporterOptions":{"publicPath":"./coverage","filename":"test-report.html","expand":true,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})